<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CIC GYM</title>
    <link rel="stylesheet" href="../static/css/homestyle.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

</head>
<body>
    <header>
        <nav class="menu-burguer">
            <div class="expansor">
                <i class="bi bi-list" id="expandir"></i>
            </div>

            <ul>
                <li class="item-menu ativo">
                    <a href="/homepage">
                        <span class="icone"><i class="bi bi-house-door"></i></span>
                        <span class="txt">Home</span>
                    </a>
                </li>
                <li class="item-menu">
                    <a href="treino.html">
                        <span class="icone"><i class="bi bi-trophy-fill"></i></span>
                        <span class="txt">Treino</span>
                    </a>
                </li>
                <li class="item-menu">
                    <a href="avaliacao.html">
                        <span class="icone"><i class="bi bi-calendar3"></i></span>
                        <span class="txt">Avaliação</span>
                    </a>
                </li>
                
                <li class="item-menu">
                    <a href="/conta">
                        <span class="icone"><i class="bi bi-person-circle"></i></span>
                        <span class="txt">Conta</span>
                    </a>
                </li>
            </ul>   
        </nav>
        <div class="overlay-menu"></div>
    </header>  

    <article class="conteudo">
        <div class="responsivo">
            <img src="/frontend/assets/logo_cic_gym_blue.png" alt="logo">
            <h1>Bem-vindo {{nome}}</h1>
            <div class="imagem-usuario">
                <span class="icone"><i class="bi bi-person-fill"></i></span>
            </div>
            <section class="account">
                <h2>Minha Conta</h2>
                <h3>Meus Treinos</h3>
                <div class="treinos">
                  <div class="treino" id="treinoA" onclick="toggleDetails('detailsA')">
                    TREINO A
                    <div class="details" id="detailsA">
                      <p>Nome: Treino A</p>
                      <p>Região: Superior</p>
                    </div>
                  </div>
                  <div class="treino" id="treinoB" onclick="toggleDetails('detailsB')">
                    TREINO B
                    <div class="details" id="detailsB">
                      <p>Nome: Treino B</p>
                      <p>Região: Inferior</p>
                    </div>
                  </div>
                  <div class="treino" id="treinoC" onclick="toggleDetails('detailsC')">
                    TREINO C
                    <div class="details" id="detailsC">
                      <p>Nome: Treino C</p>
                      <p>Região: Superior</p>
                    </div>
                  </div>
                  <div class="treino" id="treinoD" onclick="toggleDetails('detailsD')">
                    TREINO D
                    <div class="details" id="detailsD">
                      <p>Nome: Treino D</p>
                      <p>Região: Inferior</p>
                    </div>
                  </div>
                </div>
                <h3>Minhas Avaliações</h3>
                <div class="avaliacao">
                    <p>IMC: <strong>18.5</strong></p>
                    <p>Resultado: <strong>BOM</strong></p>
                </div>
                </section>
              </section>
            

        </div>
  
    </article>

    <script>
        var menuItem = document.querySelectorAll('.item-menu')

        function selectLink(){
            menuItem.forEach((item)=> 
                item.classList.remove('ativo')
            )
            this.classList.add('ativo')
        }

        menuItem.forEach((item)=>
            item.addEventListener('click', selectLink)
        )

        //Expandir o menu
        var expandir = document.querySelector('#expandir')
        var menu_expandido = document.querySelector('.menu-burguer')

        expandir.addEventListener('click', function(){
            menu_expandido.classList.toggle('expandir')
        })

        let treinosSelecionados = [];

        // Função para adicionar treino à lista de selecionados
        function selecionarTreino(idTreino) {
            if (!treinosSelecionados.includes(idTreino)) {
                treinosSelecionados.push(idTreino);
                console.log("Treinos selecionados: ", treinosSelecionados);
            }
        }

        // Função para enviar o treino personalizado para o backend Flask
        document.getElementById('criar-treino').addEventListener('click', function() {
            fetch('/criar-treino', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ treinos: treinosSelecionados })
            })
            .then(response => response.json())
            .then(data => {
                console.log("Treino personalizado criado:", data);
            });
        });
        function toggleDetails(detailsId) {
            const details = document.getElementById(detailsId);
            if (details.style.display === "block") {
                details.style.display = "none";
            } else {
                details.style.display = "block";
            }
        }


    </script>
</body>
</html>